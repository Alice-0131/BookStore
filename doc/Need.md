# bookstore2024 需求文档
## 业务流图
![](业务流图.png)

## 数据流图
![](数据流图.png)

## 数据词典
### 数据流
- ISBN 号：20 个字符
- 书名：60个字符
- 作者：60个字符
- 关键字：60个字符
- 库存量：整型
- 数量：整型
- 单价：非负实型
- 收入：非负实型
- 支出：非负实型
- 利润：非负实型
- 图书信息：ISBN 号、书名、作者、关键字、库存量、单价
- 采购信息：ISBN 号、数量、单价
- 销售情况：ISBN 号、数量、单价
- 盈利信息：收入、支出、利润
- 工作情况报告：操作类型及其对象
- 工作日志：系统的整体工作日志

### 文件流
- 图书信息：ISBN 号、书名、作者、关键字、库存量、单价
- 采购信息：ISBN 号、数量、单价
- 销售情况：ISBN 号、数量、单价
- 盈利信息：收入、支出、利润
- 工作情况报告：操作类型及其对象
- 工作日志：系统的整体工作日志

## 功能说明
### 查询图书
- 功能：查询图书信息
- 操作方式：根据 ISBN 号、作者名字、关键字、书名中的任意组合进行查询

### 购买图书
- 功能：修改图书信息中的库存量，修改或添加销售情况、盈利信息，添加工作日志
- 操作方式：通过给定的 ISBN 号和购买数量来进行操作

### 进货
- 功能：修改或添加图书信息、采购信息、盈利信息、工作情况报告，添加工作日志。
- 操作方式：指定ISBN 号、数量、进货价格

### 图书信息录入
- 功能：添加图书信息，添加工作情况报告、工作日志
- 操作方式：ISBN 号、书名、作者、关键字、库存量、单价

### 图书信息修改
- 功能：修改图书信息，添加工作情况报告、工作日志
- 操作方式：输入需要修改的图书信息

### 创建用户
- 功能：创建用户信息，添加工作情况报告、工作日志
- 操作方式：输入用户信息

### 查询采购信息
- 功能：输出采购图书的 ISBN 号、数量、单价等
- 操作方式：按照采购顺序

### 查询销售情况
- 功能：输出售出图书的 ISBN 号、数量、单价等
- 操作方式：按照销售顺序

### 查询盈利信息
- 功能：输出该段时间的收入，支出以及利润
- 操作方式：直接输出

### 查看工作情况报告
- 功能：输出每次操作类型及其对象
- 操作方式：输入员工信息，按照操作顺序输出

### 查看工作日志
- 功能：输出系统整体的工作日志
- 操作方式：直接输出

## 用户交互设计
### 基础模块
- 退出系统
  - 输入：quit/exit
  - 输出：无
### 账户模块
- 登录账户
  - 输入：su [UserID] ([Password])?
  - 输出：无
- 注销账户
  - 输入：logout
  - 输出：无
- 注册账户
  - 输入：register [UserID] [Password] [Username]
  - 输出：无
- 修改密码
  - 输入：passwd [UserID] ([CurrentPassword])? [NewPassword]
  - 输出：无
- 创建账户
  - 输入：useradd [UserID] [Password] [Privilege] [Username]
  - 输出：无
- 删除账户
  - 输入：delete [UserID]
  - 输出：无
### 图书模块
- 检索图书
  - 输入：show (-ISBN=[ISBN] | -name="[BookName]" | -author="[Author]" | -keyword="[Keyword]")?
  - 输出：[ISBN]\t[BookName]\t[Author]\t[Keyword]\t[Price]\t[库存数量]\n
- 购买图书
  - 输入：buy [ISBN] [Quantity]
  - 输出：无
- 选择图书
  - 输入：select [ISBN]
  - 输出：无
- 修改图书信息
  - 输入：modify (-ISBN=[ISBN] | -name="[BookName]" | -author="[Author]" | -keyword="[Keyword]" | -price=[Price])+
  - 输出：无
- 图书进货
  - 输入：import [Quantity] [TotalCost]
  - 输出：无

### 日志模块
- 财务纪录查询：
  - 输入：show finance ([Count])?
  - 输出：+ [收入] - [支出]\n
- 生成财务纪录报告：
  - 输入：report finance
  - 输出：财务报表
- 生成全体员工工作情况报告：
  - 输入：report employee
  - 输出：全体员工工作情况表
- 生成日志：
  - 输入：log
  - 输出：日志记录